package project;
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.border.*;
import java.util.*;



public class ComboBox extends JPanel
implements ActionListener {
static JFrame frame;
JLabel result;
String currentPattern;

public ComboBox() {
setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));
String[] patternExamples = {
		"",
		"0AK",
		"16A",
		"1G4",
		"2A3",
		"2A9",
		"3A5",
		"3T7",
		"3W2",
		"6R7",
		"74S",
		"A61",
		"A85",
		"ABE",
		"ABI",
		"ABQ",
		"ABR",
		"ABY",
		"ACB",
		"ACK",
		"ACT",
		"ACV",
		"ACY",
		"ADK",
		"ADQ",
		"AEX",
		"AFM",
		"AGC",
		"AGN",
		"AGS",
		"AHN",
		"AIA",
		"AID",
		"AIY",
		"AIZ",
		"AKN",
		"AKP",
		"AKW",
		"ALB",
		"ALM",
		"ALN",
		"ALO",
		"ALS",
		"ALW",
		"AMA",
		"ANB",
		"ANC",
		"AND",
		"ANI",
		"AOO",
		"APF",
		"APN",
		"AQH",
		"AQT",
		"ART",
		"ASE",
		"ASN",
		"AST",
		"ATK",
		"ATL",
		"ATW",
		"ATY",
		"AUG",
		"AUK",
		"AUS",
		"AVL",
		"AVP",
		"AWI",
		"AXN",
		"AZO",
		"BAF",
		"BAK",
		"BCE",
		"BDE",
		"BDL",
		"BDR",
		"BED",
		"BEH",
		"BET",
		"BFD",
		"BFF",
		"BFI",
		"BFL",
		"BGM",
		"BGR",
		"BHB",
		"BHM",
		"BID",
		"BIG",
		"BIL",
		"BIS",
		"BJI",
		"BKL",
		"BKW",
		"BKX",
		"BLI",
		"BLM",
		"BLV",
		"BMG",
		"BMI",
		"BNA",
		"BOI",
		"BOS",
		"BPK",
		"BPT",
		"BQK",
		"BQN",
		"BRD",
		"BRL",
		"BRO",
		"BRW",
		"BTI",
		"BTL",
		"BTM",
		"BTR",
		"BTV",
		"BUF",
		"BUR",
		"BVK",
		"BWG",
		"BWI",
		"BZN",
		"CAE",
		"CAK",
		"CCR",
		"CDB",
		"CDC",
		"CDV",
		"CDW",
		"CEC",
		"CEF",
		"CEZ",
		"CFK",
		"CGA",
		"CGF",
		"CGI",
		"CGX",
		"CHA",
		"CHO",
		"CHS",
		"CIC",
		"CID",
		"CIU",
		"CKB",
		"CLE",
		"CLL",
		"CLM",
		"CLT",
		"CMH",
		"CMI",
		"CMX",
		"CNM",
		"CNY",
		"COD",
		"COE",
		"COS",
		"COU",
		"CPR",
		"CPX",
		"CRP",
		"CRQ",
		"CRW",
		"CSG",
		"CVG",
		"CVO",
		"CVX",
		"CWA",
		"CWI",
		"CYS",
		"D76",
		"DAB",
		"DAL",
		"DAN",
		"DAY",
		"DBQ",
		"DCA",
		"DDC",
		"DDH",
		"DEC",
		"DEN",
		"DET",
		"DFW",
		"DHN",
		"DIK",
		"DLG",
		"DLH",
		"DNV",
		"DRO",
		"DRT",
		"DSM",
		"DTW",
		"DUJ",
		"DUT",
		"DUY",
		"DVL",
		"DVT",
		"DXR",
		"EAR",
		"EAT",
		"EAU",
		"EEK",
		"EEN",
		"EFD",
		"EFK",
		"EGE",
		"EKM",
		"EKO",
		"ELI",
		"ELM",
		"ELO",
		"ELP",
		"ELY",
		"ENA",
		"ENM",
		"ENW",
		"ERI",
		"ESC",
		"ESF",
		"EUG",
		"EVV",
		"EWB",
		"EWN",
		"EWR",
		"EWU",
		"EYW",
		"FAI",
		"FAQ",
		"FAR",
		"FAT",
		"FAY",
		"FHR",
		"FHU",
		"FKL",
		"FLG",
		"FLL",
		"FLO",
		"FMN",
		"FNL",
		"FNT",
		"FOD",
		"FOE",
		"FRG",
		"FRM",
		"FSD",
		"FSM",
		"FTW",
		"FWA",
		"FYU",
		"FYV",
		"GAL",
		"GAM",
		"GBD",
		"GBH",
		"GCC",
		"GCK",
		"GCN",
		"GED",
		"GEG",
		"GFK",
		"GFL",
		"GGG",
		"GGV",
		"GGW",
		"GJT",
		"GKN",
		"GLD",
		"GLH",
		"GLR",
		"GLS",
		"GNV",
		"GON",
		"GPI",
		"GPT",
		"GPZ",
		"GRB",
		"GRI",
		"GRK",
		"GRO",
		"GRR",
		"GSN",
		"GSO",
		"GSP",
		"GST",
		"GTF",
		"GTR",
		"GUC",
		"GUM",
		"GUP",
		"GYH",
		"GYR",
		"GYY",
		"HDN",
		"HFD",
		"HGR",
		"HIB",
		"HII",
		"HKS",
		"HKY",
		"HLA",
		"HLN",
		"HND",
		"HNH",
		"HNL",
		"HNM",
		"HNS",
		"HOB",
		"HOM",
		"HON",
		"HOT",
		"HOU",
		"HPB",
		"HPN",
		"HRL",
		"HRO",
		"HSL",
		"HSV",
		"HTS",
		"HUF",
		"HUT",
		"HVN",
		"HXD",
		"HYA",
		"HYL",
		"HYS",
		"IAD",
		"IAH",
		"IAN",
		"ICT",
		"IDA",
		"IFP",
		"IGM",
		"IIK",
		"ILE",
		"ILG",
		"ILI",
		"ILL",
		"ILM",
		"IMT",
		"IND",
		"INL",
		"INT",
		"IPL",
		"IPT",
		"IRK",
		"ISN",
		"ISO",
		"ISP",
		"ITH",
		"ITO",
		"IWA",
		"IWD",
		"IXD",
		"IYK",
		"JAC",
		"JAN",
		"JAX",
		"JBR",
		"JEF",
		"JFK",
		"JHW",
		"JLN",
		"JMS",
		"JNU",
		"JRB",
		"JST",
		"JVL",
		"JXN",
		"KAE",
		"KAL",
		"KDK",
		"KEB",
		"KKA",
		"KLG",
		"KOA",
		"KSM",
		"KTB",
		"KTN",
		"KVC",
		"KVL",
		"KWT",
		"LAA",
		"LAF",
		"LAL",
		"LAN",
		"LAR",
		"LAS",
		"LAW",
		"LAX",
		"LBB",
		"LBE",
		"LBF",
		"LBL",
		"LBX",
		"LCH",
		"LCK",
		"LEB",
		"LEX",
		"LFT",
		"LGA",
		"LGB",
		"LHD",
		"LIH",
		"LIT",
		"LMT",
		"LNK",
		"LNS",
		"LNY",
		"LPR",
		"LRD",
		"LRU",
		"LSE",
		"LUK",
		"LWB",
		"LWS",
		"LYH",
		"MAF",
		"MAZ",
		"MBA",
		"MBL",
		"MBS",
		"MCC",
		"MCE",
		"MCG",
		"MCI",
		"MCK",
		"MCN",
		"MCO",
		"MCW",
		"MDH",
		"MDM",
		"MDT",
		"MDW",
		"MDY",
		"MEI",
		"MEM",
		"MFD",
		"MFE",
		"MFR",
		"MGM",
		"MGW",
		"MHE",
		"MHK",
		"MHT",
		"MIA",
		"MIE",
		"MIV",
		"MJX",
		"MKC",
		"MKE",
		"MKG",
		"MKK",
		"MKL",
		"MKT",
		"MLB",
		"MLI",
		"MLL",
		"MLU",
		"MMH",
		"MMU",
		"MMV",
		"MNM",
		"MOB",
		"MOD",
		"MOT",
		"MOU",
		"MPV",
		"MQI",
		"MQJ",
		"MQY",
		"MRI",
		"MRY",
		"MSL",
		"MSN",
		"MSO",
		"MSP",
		"MSS",
		"MSV",
		"MSY",
		"MTH",
		"MTJ",
		"MTM",
		"MTO",
		"MUE",
		"MVL",
		"MVN",
		"MVY",
		"MWA",
		"MWH",
		"MYR",
		"MZJ",
		"N93",
		"NEW",
		"NQA",
		"NUL",
		"OAJ",
		"OAK",
		"OCF",
		"OFK",
		"OGD",
		"OGG",
		"OGS",
		"OKC",
		"OLM",
		"OMA",
		"OME",
		"ONP",
		"ONT",
		"OOK",
		"OQU",
		"ORD",
		"ORF",
		"ORH",
		"ORI",
		"ORS",
		"ORV",
		"OSH",
		"OSU",
		"OTG",
		"OTH",
		"OTM",
		"OTZ",
		"OWB",
		"OXC",
		"OXR",
		"PAE",
		"PAH",
		"PBI",
		"PCW",
		"PDT",
		"PDX",
		"PFN",
		"PGA",
		"PGD",
		"PGM",
		"PGV",
		"PHF",
		"PHL",
		"PHO",
		"PHX",
		"PIA",
		"PIB",
		"PIE",
		"PIH",
		"PIR",
		"PIT",
		"PKB",
		"PLB",
		"PLK",
		"PLN",
		"PMD",
		"PNC",
		"PNS",
		"POU",
		"PPC",
		"PPG",
		"PQI",
		"PQL",
		"PRB",
		"PRC",
		"PSC",
		"PSE",
		"PSG",
		"PSM",
		"PSP",
		"PTH",
		"PTK",
		"PUB",
		"PUW",
		"PVC",
		"PVD",
		"PVU",
		"PWM",
		"PWT",
		"RAP",
		"RDD",
		"RDG",
		"RDM",
		"RDU",
		"RFD",
		"RHI",
		"RIC",
		"RIW",
		"RKD",
		"RKS",
		"RME",
		"RMG",
		"RNO",
		"ROA",
		"ROC",
		"ROW",
		"RSH",
		"RST",
		"RSW",
		"RUT",
		"RWI",
		"SAF",
		"SAN",
		"SAT",
		"SAV",
		"SAW",
		"SBA",
		"SBD",
		"SBN",
		"SBP",
		"SBY",
		"SCC",
		"SCK",
		"SCM",
		"SDF",
		"SDP",
		"SDY",
		"SEA",
		"SFB",
		"SFO",
		"SFZ",
		"SGF",
		"SGH",
		"SGJ",
		"SGU",
		"SGY",
		"SHD",
		"SHG",
		"SHH",
		"SHR",
		"SHV",
		"SIG",
		"SIT",
		"SJC",
		"SJT",
		"SJU",
		"SKX",
		"SLC",
		"SLE",
		"SLK",
		"SLN",
		"SMF",
		"SMX",
		"SNA",
		"SNP",
		"SOP",
		"SOV",
		"SOW",
		"SPI",
		"SPS",
		"SQI",
		"SRQ",
		"SRR",
		"STC",
		"STJ",
		"STL",
		"STP",
		"STS",
		"STT",
		"STX",
		"SUN",
		"SUS",
		"SUX",
		"SVA",
		"SVC",
		"SWF",
		"SWO",
		"SYR",
		"T44",
		"TAL",
		"TBN",
		"TCL",
		"TEB",
		"TEX",
		"TIX",
		"TLH",
		"TLT",
		"TNI",
		"TOG",
		"TOL",
		"TPA",
		"TPL",
		"TRI",
		"TTN",
		"TUL",
		"TUP",
		"TUS",
		"TVC",
		"TVF",
		"TVL",
		"TVR",
		"TWF",
		"TXK",
		"TYR",
		"TYS",
		"UCA",
		"UIN",
		"UNK",
		"UNV",
		"UOX",
		"UUU",
		"VAK",
		"VCT",
		"VCV",
		"VDZ",
		"VGT",
		"VIS",
		"VLD",
		"VPS",
		"VPZ",
		"VQQ",
		"VQS",
		"VRB",
		"WBB",
		"WDG",
		"WLK",
		"WNA",
		"WRG",
		"WRL",
		"WST",
		"WTK",
		"WWD",
		"WYS",
		"X44",
		"X95",
		"XNA",
		"YAK",
		"YKM",
		"YKN",
		"YNG",
		"YUM",
		"Z08",
		"Z09"
};


origin = patternExamples[0];
destination = patternExamples[0];

//Set up the UI for selecting a pattern.
JLabel patternLabel1 = new JLabel("Please select origin airport:");
//JLabel patternLabel2 = new JLabel("select one from the list:");

JComboBox patternList = new JComboBox(patternExamples);
patternList.setEditable(true);
patternList.addActionListener(this);

JLabel patternLabel2 = new JLabel("Please select destination airport:");
JComboBox patternList2 = new JComboBox(patternExamples);
patternList2.setEditable(true);
patternList2.addActionListener(this);

JLabel patternLabel3 = new JLabel("Please enter a price");
JTextField priceInput = new JTextField();
priceInput.setEditable(true);


JLabel patternLabel4 = new JLabel("Please enter your email");
JTextField emailInput = new JTextField();
priceInput.setEditable(true);

JLabel patternLabel5 = new JLabel("Please enter desired date");
JTextField dateInput = new JTextField();
dateInput.setEditable(true);

JButton submit = new JButton("Submit");
submit.addActionListener(event -> {
	setPrice(priceInput.getText());
	setEmail(emailInput.getText());
	setOrigin((String)patternList.getSelectedItem());
	setDestination((String)patternList2.getSelectedItem());
	setDate(dateInput.getText());
	
	FlightApi api = new FlightApi();
	
	String currentMin = api.APICall(origin, destination, emailText, priceText);
	Emailer email = new Emailer(emailText, origin, destination, priceText, currentMin);
	System.out.println(Double.parseDouble(currentMin) > Double.parseDouble(priceText));
	if(Double.parseDouble(currentMin) <= Double.parseDouble(priceText)) {
		email.sendMail();
	}
});



//Lay out everything.
JPanel patternPanel = new JPanel();
patternPanel.setLayout(new BoxLayout(patternPanel,
    BoxLayout.PAGE_AXIS));
patternPanel.add(patternLabel1);
patternList.setAlignmentX(Component.LEFT_ALIGNMENT);
patternPanel.add(patternList);
patternPanel.add(patternLabel2);
patternList2.setAlignmentX(Component.LEFT_ALIGNMENT);
patternPanel.add(patternList2);
patternPanel.add(patternLabel3);
priceInput.setAlignmentX(Component.LEFT_ALIGNMENT);
patternPanel.add(priceInput);
patternPanel.add(patternLabel5);
dateInput.setAlignmentX(Component.LEFT_ALIGNMENT);
patternPanel.add(dateInput);
patternPanel.add(patternLabel4);
emailInput.setAlignmentX(Component.LEFT_ALIGNMENT);
patternPanel.add(emailInput);


JPanel resultPanel = new JPanel(new GridLayout(0, 1));
resultPanel.add(submit);

patternPanel.setAlignmentX(Component.LEFT_ALIGNMENT);
resultPanel.setAlignmentX(Component.LEFT_ALIGNMENT);

add(patternPanel);
add(Box.createRigidArea(new Dimension(0, 10)));
add(resultPanel);

setBorder(BorderFactory.createEmptyBorder(10,10,10,10));


} //constructor

public void actionPerformed(ActionEvent e) {
// do nothing
}


private void setEmail(String email) {
	this.emailText = email;
}

private void setPrice(String price) {
	this.priceText = price;
}

private void setOrigin(String origin) {
	this.origin = origin;
}

private void setDestination(String destination) {
	this.destination = destination;
}

private void setDate(String date) {
	this.date = date;
}
public String getEmail() {
	return emailText;
}
public String getPrice() {
	return priceText;
}
public String getOrigin() {
	return origin;
}
public String getDestination() {
	return destination;
}
public String getDate() {
	return date;
}

private String origin;
private String destination;
private String priceText;
private String emailText;
private String date;

}